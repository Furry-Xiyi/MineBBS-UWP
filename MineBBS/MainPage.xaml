<Page
    x:Class="MineBBS.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid x:Name="AppTitleBar" Height="48">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="12,0,0,0">
                <Image Source="ms-appx:///Assets/StoreLogo.png"
               Width="24" Height="24"
               Stretch="Uniform"/>
                <TextBlock Text="MineBBS"
                   VerticalAlignment="Center"
                   Margin="8,0,0,0"
                   Style="{StaticResource CaptionTextBlockStyle}"/>
            </StackPanel>

            <Grid x:Name="DragRegion" Grid.Column="1" Background="Transparent" />

            <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="10" Margin="0,0,140,0" VerticalAlignment="Center">
                <AutoSuggestBox QueryIcon="Find" 
                                Width="250" 
                                PlaceholderText="搜索 MineBBS..." 
                                Style="{StaticResource DefaultAutoSuggestBoxStyle}"/>

                <Button Background="Transparent" Padding="4">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <PersonPicture Width="24" Height="24" DisplayName="User"/>
                        <TextBlock Text="账户" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>

        <muxc:NavigationView x:Name="NavView" 
                             Grid.Row="1"
                             PaneDisplayMode="Top"
                             IsBackButtonVisible="Visible"
                             IsBackEnabled="{x:Bind ContentFrame.CanGoBack, Mode=OneWay}"
                             ItemInvoked="NavView_ItemInvoked"
                             BackRequested="NavView_BackRequested">

            <muxc:NavigationView.MenuItems>
                <muxc:NavigationViewItem Icon="Home" Content="社区" Tag="HomePage" />
                <muxc:NavigationViewItem Icon="Library" Content="资源" Tag="ResourcesPage" />
                <muxc:NavigationViewItem Icon="Download" Content="MC下载(基岩)" Tag="DownloadPage" />
            </muxc:NavigationView.MenuItems>
            <muxc:NavigationView.FooterMenuItems>
                <muxc:NavigationViewItem Icon="Manage" Content="MC管理(Java)" Tag="VersionManagerPage"/>
            </muxc:NavigationView.FooterMenuItems>

            <Frame x:Name="ContentFrame" Navigated="ContentFrame_Navigated"/>
        </muxc:NavigationView>
    </Grid>
</Page>
